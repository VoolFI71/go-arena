üöÄ Go Arena: –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π zero‚ÄëGC –∞–ª–ª–æ–∫–∞—Ç–æ—Ä

Go Arena ‚Äî —ç—Ç–æ generic‚Äë–∞–ª–ª–æ–∫–∞—Ç–æ—Ä, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–π –Ω–∞ C10M‚Äë–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (10 –º–ª–Ω —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π) –∏ HFT‚Äë—Å—Ü–µ–Ω–∞—Ä–∏–∏.  
–û–Ω –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ heap‚Äë–∞–ª–ª–æ–∫–∞—Ü–∏–∏ –Ω–∞ bump‚Äëpointer –∞—Ä–µ–Ω—É –∏ —Å–Ω–∏–∂–∞–µ—Ç –¥–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ GC –¥–æ –Ω—É–ª—è.

## ‚ö°Ô∏è –ü–æ—á–µ–º—É Go Arena?
–í Go —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ `new`/`make` –±—ã—Å—Ç—Ä—ã–µ, –Ω–æ —É–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ (GC) ‚Äî –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ –¥–æ—Ä–æ–≥–∞—è.  
–í –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1M+ WebSocket) –ø–∞—É–∑—ã GC –º–æ–≥—É—Ç —É–±–∏—Ç—å latency.

Go Arena —Ä–µ—à–∞–µ—Ç —ç—Ç–æ:
- **Zero GC Overhead**: –ø–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∑–∞ O(1) –ø—Ä–æ—Å—Ç—ã–º Reset.
- **Cache Friendly**: –¥–∞–Ω–Ω—ã–µ –ª–µ–∂–∞—Ç –ø–ª–æ—Ç–Ω–æ, –ª—É—á—à–µ CPU‚Äëcache locality.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ ‚Äî –ø—Ä–æ—Å—Ç–æ –≤—ã–¥–µ–ª—è–µ—Ç –Ω–æ–≤—ã–π —á–∞–Ω–∫.
- **–ë–æ–≥–∞—Ç—ã–π API**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–∞–π—Å–æ–≤ (—Å append‚Äë–ª–æ–≥–∏–∫–æ–π), —Å—Ç—Ä–æ–∫ –∏ –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤.

## üìä –ë–µ–Ω—á–º–∞—Ä–∫–∏
–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–ª–ª–æ–∫–∞—Ü–∏–∏ 100,000 –æ–±—ä–µ–∫—Ç–æ–≤ (—Å—Ç—Ä—É–∫—Ç—É—Ä—ã + —Å—Ç—Ä–æ–∫–∏) –≤ —Ü–∏–∫–ª–µ:

| Benchmark | Time (ns/op) | Memory (B/op) | Allocs/op |
|---|---|---|---|
| Standard Go (Heap) | 4,597,885 | 7,202,833 | 100,001 |
| Go Arena (Pool) | 3,204,910 | 0 | 0 |

> –†–µ–∑—É–ª—å—Ç–∞—Ç: 100% —Å–Ω–∏–∂–µ–Ω–∏–µ heap‚Äë–∞–ª–ª–æ–∫–∞—Ü–∏–π. GC –±—É–∫–≤–∞–ª—å–Ω–æ –Ω–µ—á–µ–≥–æ –¥–µ–ª–∞—Ç—å.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```
go get github.com/VoolFI71/go-arena
```

## üõ† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
### 1. –ü—Ä–æ–¥–∞–∫—à–Ω‚Äë–ø–∞—Ç—Ç–µ—Ä–Ω (Arena Pool)
–î–ª—è HTTP/WebSocket —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ArenaPool`.

```go
package main

import (
    "fmt"
    "github.com/VoolFI71/go-arena"
)

// 1. –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø—É–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∞–Ω–∫–∏ –ø–æ 64KB)
var pool = arena.NewArenaPool(64*1024, 0)

type User struct {
    ID   int
    Name string
}

func HandleRequest() {
    // 2. –ë–µ—Ä–µ–º –∞—Ä–µ–Ω—É –∏–∑ –ø—É–ª–∞
    mem := pool.Get()
    defer pool.Put(mem) // –í –∫–æ–Ω—Ü–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–∞–º—è—Ç—å —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ

    // 3. –ê–ª–ª–æ–∫–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (Zero Allocation)
    user := arena.New[User](mem)
    user.ID = 1
    
    // 4. –ê–ª–ª–æ–∫–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–∏ (–±–µ–∑ –≤—ã—Ö–æ–¥–∞ –≤ Heap)
    user.Name = mem.AllocString("John Doe")

    fmt.Printf("User: %+v\n", user)
}
```

### 2. –†–∞–±–æ—Ç–∞ —Å–æ —Å–ª–∞–π—Å–∞–º–∏ (Safe Append)
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π append –ø—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –≤—Å–µ–≥–¥–∞ –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å –≤ Heap. `arena.Append` –¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –∞—Ä–µ–Ω—ã.

```go
func SliceExample(mem *arena.Arena) {
    // –°–æ–∑–¥–∞–µ–º —Å–ª–∞–π—Å —Å –µ–º–∫–æ—Å—Ç—å—é 2
    users := arena.MakeSlice[User](mem, 0, 2)

    // –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
    users = arena.Append(mem, users, User{ID: 1})
    users = arena.Append(mem, users, User{ID: 2})

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–æ—Å—Ç –≤–Ω—É—Ç—Ä–∏ –∞—Ä–µ–Ω—ã:
    users = arena.Append(mem, users, User{ID: 3})
}
```

## ‚öôÔ∏è API Reference
### –ê–ª–ª–æ–∫–∞—Ç–æ—Ä—ã
- `New[T](a *Arena) *T` ‚Äî –∞–ª–ª–æ—Ü–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `T`.
- `MakeSlice[T](a *Arena, len, cap int) []T` ‚Äî —Å–æ–∑–¥–∞–µ—Ç —Å–ª–∞–π—Å –≤ –∞—Ä–µ–Ω–µ.
- `AllocString(s string) string` ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É –≤ –∞—Ä–µ–Ω—É.

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ
- `Append(a *Arena, slice []T, items ...T) []T` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É append.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `NewArenaPool(chunkSize, maxRetained int)` ‚Äî —Å–æ–∑–¥–∞–µ—Ç thread‚Äësafe –ø—É–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è).
- `NewArena(size, maxRetained int)` ‚Äî —Å–æ–∑–¥–∞–µ—Ç –æ–¥–∏–Ω–æ—á–Ω—É—é –∞—Ä–µ–Ω—É.
- `Reset()` ‚Äî –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –æ—á–∏—â–∞–µ—Ç –∞—Ä–µ–Ω—É (–∫—É—Ä—Å–æ—Ä –≤ 0).

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (–ö–æ–Ω—Ç—Ä–∞–∫—Ç)
–†–∞–±–æ—Ç–∞ —Å —Ä—É—á–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç—å—é —Ç—Ä–µ–±—É–µ—Ç –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã:
- **–í—Ä–µ–º—è –∂–∏–∑–Ω–∏**: –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç (–∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–µ–≥–æ) –ø–æ—Å–ª–µ `pool.Put` –∏–ª–∏ `Reset`.
  - –ü–ª–æ—Ö–æ: –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `*User` –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞.
  - –•–æ—Ä–æ—à–æ: —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ JSON/Protobuf/Bytes –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏—Ö.
- **–ü–æ—Ç–æ–∫–∏**: —ç–∫–∑–µ–º–ø–ª—è—Ä `*Arena` –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω—É –∞—Ä–µ–Ω—É –Ω–∞ –æ–¥–Ω—É –≥–æ—Ä—É—Ç–∏–Ω—É. `ArenaPool` –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω.
- **–ö–∞—Ä—Ç—ã**: `map` –≤—Å–µ–≥–¥–∞ –∞–ª–ª–æ—Ü–∏—Ä—É–µ—Ç—Å—è –≤ heap. –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –∞—Ä–µ–Ω—ã –≤ –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏—Ö –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö map.


## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT
